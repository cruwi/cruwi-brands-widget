class CruwiModal{constructor(apiKey){this.validateApiKey(apiKey);this.apiKey=apiKey;this.init()}validateApiKey(apiKey){if(!apiKey||typeof apiKey!=="string"||apiKey.length!==32){throw new Error("Invalid API key")}}init(){const{modal:modal,modalContent:modalContent}=this.createModal();this.modal=modal;this.modalContent=modalContent}createModal(){const modalWrapper=document.createElement("div");modalWrapper.id="cruwi-modal-wrapper";const shadow=modalWrapper.attachShadow({mode:"open"});const style=document.createElement("style");style.textContent=`\n\n      @import url('https://fonts.googleapis.com/css2?family=DM+Sans:opsz,wght@9..40,600&display=swap');\n\n      #cruwi-modal {\n        all: initial;\n        display: none;\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0,0,0,0.5);\n        z-index: 9999;\n        justify-content: center;\n        align-items: center;\n      }\n\n      #cruwi-modal-content {\n        all: initial;\n        margin: 10px;\n        background-color: white;\n        max-width: 400px;\n        width: calc(100% - 40px);\n        position: relative;\n        border-radius: 18px;\n        box-shadow: 8px 8px 0px black;\n      }\n\n      #cruwi-modal-content-text {\n        padding: 20px;\n      }\n\n      h3 {\n        all: initial;\n        font-size: 24px;\n        display: block;\n        margin: 40px 0 10px 0;\n        font-weight: bold;\n        font-family: 'DM Sans', sans-serif;\n      }\n\n      p {\n        all: initial;\n        font-family: 'DM Sans', sans-serif;\n      }\n\n      #cruwi-modal-close-button {\n        all: initial;\n        position: absolute;\n        top: 10px;\n        left: 10px;\n        border: none;\n        cursor: pointer;\n        background: #e8e8ed;\n        border-radius: 50%;\n        color: #6e6e73;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        height: 36px;\n        width: 36px;\n      }\n\n      #cruwi-modal-footer {\n        padding: 10px;\n        background-color: #f5f5f7;\n        text-align: center;\n        border-bottom-left-radius: 18px;\n        border-bottom-right-radius: 18px;\n      }\n\n      #cruwi-modal-footer p {\n        all: initial;\n        font-size: 10px;\n        font-family: 'DM Sans', sans-serif;\n      }\n\n      #cruwi-modal-cta-button {\n        display: block;\n        width: 100%;\n        border: none;\n        margin-top: 20px;\n        background-color: black;\n        padding: 10px 20px;\n        color: white;\n        font-family: 'DM Sans', sans-serif;\n        font-size: 16px;\n        border-radius: 5px;\n      }\n\n    `;shadow.appendChild(style);const modal=document.createElement("div");modal.id="cruwi-modal";shadow.appendChild(modal);const modalContent=document.createElement("div");modalContent.id="cruwi-modal-content";modal.appendChild(modalContent);const closeButton=document.createElement("button");closeButton.id="cruwi-modal-close-button";closeButton.innerHTML=`\n      <svg width="21" height="21" class="as-svgicon as-svgicon-close as-svgicon-tiny as-svgicon-closetiny" role="img" aria-hidden="true"><path fill="none" d="M0 0h21v21H0z"></path><path d="M12.12 10l4.07-4.06a1.5 1.5 0 10-2.11-2.12L10 7.88 5.94 3.81a1.5 1.5 0 10-2.12 2.12L7.88 10l-4.07 4.06a1.5 1.5 0 000 2.12 1.51 1.51 0 002.13 0L10 12.12l4.06 4.07a1.45 1.45 0 001.06.44 1.5 1.5 0 001.06-2.56z"></path></svg>\n    `;modalContent.appendChild(closeButton);const textContent=document.createElement("div");textContent.id="cruwi-modal-content-text";modalContent.appendChild(textContent);const title=document.createElement("h3");title.innerHTML="Crea contenido para Matcha&CO y gana dinero";textContent.appendChild(title);const content=document.createElement("p");content.innerHTML="Este contenido del modal es de prueba aquí habrá una pequeña explicación sobre lo que se podrá hacer con CRUWI.com y cómo podrías ganar dinero haciendo retos y trends";textContent.appendChild(content);const ctaButton=document.createElement("button");ctaButton.innerHTML="Hacer reto";ctaButton.id="cruwi-modal-cta-button";ctaButton.addEventListener("click",(()=>{modal.style.display="none"}));textContent.appendChild(ctaButton);const modalFooter=document.createElement("div");modalFooter.id="cruwi-modal-footer";modalContent.appendChild(modalFooter);const footerText=document.createElement("p");footerText.innerHTML=`Powered by <strong>CRUWI.com</strong>`;modalFooter.appendChild(footerText);document.body.appendChild(modalWrapper);closeButton.addEventListener("click",(()=>{modal.style.display="none"}));modal.addEventListener("click",(event=>{if(event.target===modal){modal.style.display="none"}}));return{modal:modal,modalContent:modalContent}}open(){this.modal.style.display="flex";fetch(`https://your-api.com/some-endpoint?apiKey=${apiKey}`).then((response=>response.json())).then((data=>{modal.querySelector("h1").innerHTML=data.title})).catch((error=>{console.error("Error:",error)}))}}window.CruwiModal=CruwiModal;